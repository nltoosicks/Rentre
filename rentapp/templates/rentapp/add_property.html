{% extends 'rentapp/base.html' %}

{% block title %}
    {% if property %}Edit Property{% else %}Add Property{% endif %} - Rentre
{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header">
                <h2 class="text-center">{% if property %}Edit Property{% else %}Add Property{% endif %}</h2>
            </div>
            <div class="card-body">
                <form method="post">
                    {% csrf_token %}
                    
                    <!-- Property Name -->
                    <div class="mb-3">
                        <label for="{{ form.property_name.id_for_label }}" class="form-label">Property Name</label>
                        {{ form.property_name }}
                        {% if form.property_name.errors %}
                            {% for error in form.property_name.errors %}
                                <div class="invalid-feedback d-block">{{ error }}</div>
                            {% endfor %}
                        {% endif %}
                    </div>

                    <!-- Address -->
                    <div class="mb-3">
                        <label for="{{ form.address_line_1.id_for_label }}" class="form-label">Address Line 1</label>
                        {{ form.address_line_1 }}
                        {% if form.address_line_1.errors %}
                            {% for error in form.address_line_1.errors %}
                                <div class="invalid-feedback d-block">{{ error }}</div>
                            {% endfor %}
                        {% endif %}
                    </div>

                    <div class="mb-3">
                        <label for="{{ form.address_line_2.id_for_label }}" class="form-label">Address Line 2 (Optional)</label>
                        {{ form.address_line_2 }}
                    </div>

                    <!-- City, State, Zip in one row -->
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="{{ form.city.id_for_label }}" class="form-label">City</label>
                            {{ form.city }}
                            {% if form.city.errors %}
                                {% for error in form.city.errors %}
                                    <div class="invalid-feedback d-block">{{ error }}</div>
                                {% endfor %}
                            {% endif %}
                        </div>
                        <div class="col-md-2">
                            <label for="{{ form.state.id_for_label }}" class="form-label">State</label>
                            {{ form.state }}
                            {% if form.state.errors %}
                                {% for error in form.state.errors %}
                                    <div class="invalid-feedback d-block">{{ error }}</div>
                                {% endfor %}
                            {% endif %}
                        </div>
                        <div class="col-md-4">
                            <label for="{{ form.zip_code.id_for_label }}" class="form-label">ZIP Code</label>
                            {{ form.zip_code }}
                            {% if form.zip_code.errors %}
                                {% for error in form.zip_code.errors %}
                                    <div class="invalid-feedback d-block">{{ error }}</div>
                                {% endfor %}
                            {% endif %}
                        </div>
                    </div>

                    <!-- Property Details in one row -->
                    <div class="row mb-3">
                        <div class="col-md-4">
                            <label for="{{ form.square_footage.id_for_label }}" class="form-label">Square Footage</label>
                            {{ form.square_footage }}
                            {% if form.square_footage.errors %}
                                {% for error in form.square_footage.errors %}
                                    <div class="invalid-feedback d-block">{{ error }}</div>
                                {% endfor %}
                            {% endif %}
                        </div>
                        <div class="col-md-4">
                            <label for="{{ form.bedrooms.id_for_label }}" class="form-label">Bedrooms</label>
                            {{ form.bedrooms }}
                            {% if form.bedrooms.errors %}
                                {% for error in form.bedrooms.errors %}
                                    <div class="invalid-feedback d-block">{{ error }}</div>
                                {% endfor %}
                            {% endif %}
                        </div>
                        <div class="col-md-4">
                            <label for="{{ form.bathrooms.id_for_label }}" class="form-label">Bathrooms</label>
                            {{ form.bathrooms }}
                            {% if form.bathrooms.errors %}
                                {% for error in form.bathrooms.errors %}
                                    <div class="invalid-feedback d-block">{{ error }}</div>
                                {% endfor %}
                            {% endif %}
                        </div>
                    </div>
                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-primary">
                            {% if property %}Update Property{% else %}Add Property{% endif %}
                        </button>
                        <a href="{% url 'landlord_dashboard' %}" class="btn btn-secondary">Cancel</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
